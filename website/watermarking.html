---
layout: default
---

<h2>Watermarking</h2>

<p>The watermarking feature overlays an image "watermark" on top of an output image. This can be useful for applying branding, attribution, copyright notices, and so on.</p>

<h3>Watermark Requirements</h3>

<p>The watermark image is typically a 24-bit RGBA PNG image. Alpha is supported, but not necessary, and other formats may work as well, but PNG is recommended.

<p>The watermark will be blended into the output image respecting its alpha channel. Opaque pixels will be applied opaque. Reducing the opacity (increasing the transparency) of the applied watermark requires modifying it&mdash;the image server will not multiply alpha.</p>

<h3>Processor Support</h3>

<p>Not all processors support watermarking; see the <a href="processors.html#Supported%20Features">table of processor supported features</a>.</p>

<h3>Implications</h3>

<h4>Performance</h4>

<p>Watermark application should have minimal impact on response times, adding perhaps a few milliseconds at most for a 15,000-pixel watermark.</p>

<p>One thing to note, though, is that normally, requests for source images with no modification are streamed through with no processing. When watermarking is enabled, this will no longer be the case.</p>

<h4>Zooming Image Viewers</h4>

<p>Zooming image viewers display a canvas composed of multiple image tiles. When watermarking is enabled, each tile will have a watermark, which may look more or less strange depending on the size of the watermark and the tile size used by the viewer.</p>

<p>One way of getting around this is to set the <code>watermark.output_width_threshold</code> and <code>watermark.output_height_threshold</code> configuration options to values that are slightly larger than the tile size used by the zooming image viewer. This will disable watermarking for zooming image viewer tiles, but enable for it for anything larger.</p>

<h4>Caching</h4>

<p>Watermarked images are cached just like any other image. Keep in mind that when changing your watermark settings, cached images with the previous watermark applied will not be affected.</p>
